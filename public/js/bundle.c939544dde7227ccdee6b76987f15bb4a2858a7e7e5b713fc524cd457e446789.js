function updateSyntaxTheme(e){const t=document.getElementById("syntax-stylesheet");if(!t)return;let n="light";e==="themeDark"?n="dark":e==="themeContrast"&&(n="contrast");const o=`syntax-theme-${n}`,s=document.querySelector(`meta[name="${o}"]`);if(s&&s.content)t.href=s.content;else{const e=document.querySelector('meta[name="syntax-theme-light"]');e&&e.content&&(t.href=e.content)}}function initTheme(){const i=document.documentElement,t=document.querySelector("[data-theme-toggle]"),e=["themeLight","themeDark","themeContrast"];let n=0;function o(e){i.dataset.userTheme=e,localStorage.setItem("user-theme",e),updateSyntaxTheme(e);let n=e.replace("theme","");t&&(t.textContent=n)}const s=localStorage.getItem("user-theme");s&&e.includes(s)?(n=e.indexOf(s),o(s)):o(e[0]),t&&t.addEventListener("click",()=>{n=(n+1)%e.length;const t=e[n];o(t)})}const themeToggleButtonElement=document.querySelector("[data-theme-toggle]");themeToggleButtonElement&&initTheme()
;
function updateClock(){const e=document.getElementById("site-clock");if(!e)return;const t=new Date,n={weekday:void 0,month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"},s=t.toLocaleString("en-GB",{...n,timeZone:"Europe/London"}),o=t.toLocaleString("en-GB",n);e.textContent=s.replace(","," ·"),e.title=`Siddharth's local time.
Your time: ${o.replace(","," ·")}`}updateClock(),setInterval(updateClock,3e4)
;
document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("filter-controls"),a=document.getElementById("writings-list"),t=document.getElementById("subject-filter-buttons"),o=document.getElementById("clear-filters"),n=document.getElementById("show-more-filters");if(!i||!a||!t||!o)return;const d=a.querySelectorAll('section[aria-labelledby^="year-"]');let s=!1,e=new Set;function r(){o.classList.toggle("enabled",e.size>0)}function c(){if(!n)return;const o=t.querySelectorAll(".SF_TAXONOMYFILTER_BUTTON--HIDDEN"),e=o.length===0;n.classList.toggle("hidden",e),e||(n.textContent=s?"Less...":"More...")}function l(){let t=!1;d.forEach(n=>{const s=n.querySelectorAll(".SF_BLOGPOST");let o=0;s.forEach(n=>{const i=n.dataset.subjects,a=i?i.split(",").map(e=>e.trim()).filter(e=>e):[];let s=!1;e.size===0?s=!0:s=a.some(t=>e.has(t)),n.classList.toggle("hidden",!s),s&&(o++,t=!0)}),n.classList.toggle("hidden",o===0&&s.length>0)}),r()}i.addEventListener("click",i=>{const a=i.target;if(a.classList.contains("SF_TAXONOMYFILTER_BUTTON")){const t=a.dataset.subject;if(!t)return;a.classList.toggle("active"),e.has(t)?e.delete(t):e.add(t),l()}else if(a.id==="clear-filters")o.classList.contains("enabled")&&(e.clear(),t.querySelectorAll(".SF_TAXONOMYFILTER_BUTTON.active").forEach(e=>e.classList.remove("active")),l());else if(a.id==="show-more-filters"){if(!n)return;s=!s,t.classList.toggle("show-all-filters",s),c()}}),c(),r()})
;
document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".SF_POSTCONTENT pre").forEach(e=>{const n=e.querySelector("code");if(!n)return;const a=n.getAttribute("data-lang")||"",s=document.createElement("div");s.className="SF_CODE_HEADER";const o=document.createElement("span");o.className="SF_CODE_LANG";let i=a.toLowerCase();i==="CPP"&&(i="C++"),o.textContent=i;const t=document.createElement("button");t.className="SF_CODE_COPY_BUTTON",t.textContent="COPY",t.setAttribute("aria-label","Copy code to clipboard"),t.addEventListener("click",()=>{const e=Array.from(n.querySelectorAll(".line")),s=e.map(e=>{const t=e.querySelector(".cl")||e.querySelector("span:not(.ln)");return t?t.textContent.trimEnd():e.textContent.trimEnd()}).join(`
`);navigator.clipboard.writeText(s).then(()=>{t.classList.add("copied"),t.textContent="✔",t.setAttribute("aria-label","Copied!"),setTimeout(()=>{t.classList.remove("copied"),t.textContent="COPY",t.setAttribute("aria-label","Copy code to clipboard"),t.blur()},1500)}).catch(e=>{t.textContent="Error",setTimeout(()=>{t.textContent="COPY",t.setAttribute("aria-label","Copy code to clipboard")},1500)})}),s.appendChild(o),s.appendChild(t),e.insertBefore(s,n)})})