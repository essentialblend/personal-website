function updateSyntaxTheme(e){const t=document.getElementById("syntax-stylesheet");if(!t)return;let n="light";e==="themeDark"?n="dark":e==="themeHigh"&&(n="high");const o=`syntax-theme-${n}`,s=document.querySelector(`meta[name="${o}"]`);if(s&&s.content)t.href=s.content;else{const e=document.querySelector('meta[name="syntax-theme-light"]');e&&e.content&&(t.href=e.content)}}function initTheme(){const i=document.documentElement,t=document.querySelector("[data-theme-toggle]"),e=["themeLight","themeDark","themeHigh"];let n=0;function o(e){i.dataset.userTheme=e,localStorage.setItem("user-theme",e),updateSyntaxTheme(e);let n=e.replace("theme","");t&&(t.textContent=n)}const s=localStorage.getItem("user-theme");s&&e.includes(s)?(n=e.indexOf(s),o(s)):o(e[0]),t&&t.addEventListener("click",()=>{n=(n+1)%e.length;const t=e[n];o(t)})}const themeToggleButtonElement=document.querySelector("[data-theme-toggle]");themeToggleButtonElement&&initTheme()
;
function updateClock(){const e=document.getElementById("site-clock");if(!e)return;const t=new Date,n={weekday:void 0,month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"},s=t.toLocaleString("en-GB",{...n,timeZone:"Europe/London"}),o=t.toLocaleString("en-GB",n);e.textContent=s.replace(","," ·"),e.title=`Siddharth's local time.
Your time: ${o.replace(","," ·")}`}updateClock(),setInterval(updateClock,3e4)
;
document.addEventListener("DOMContentLoaded",()=>{function e(e){const a=e.dataset.targetList,r=e.dataset.itemSelector,c=document.getElementById(a),l=e.querySelector(".SF_TAXONOMYFILTER_CONTROLS"),s=e.querySelector(".SF_TAXONOMYFILTER_BUTTONS"),o=e.querySelector(".SF_TAXONOMYFILTER_CLEAR"),n=e.querySelector(".SF_TAXONOMYFILTER_MORE");if(!c||!l||!s||!o){console.warn(`Filter setup incomplete for target list: ${a}. Missing required elements.`);return}let t=new Set,i=!1;function d(){o.classList.toggle("enabled",t.size>0)}function u(){if(!n)return;const t=s.querySelectorAll(".SF_TAXONOMYFILTER_BUTTON--HIDDEN"),e=t.length===0;n.classList.toggle("hidden",e),e||(n.textContent=i?"Less...":"More...")}function h(){const e=c.querySelectorAll(r);let n=!1;if(e.forEach(e=>{const o=e.dataset.subjects,i=o?o.split(",").map(e=>e.trim()).filter(e=>e):[];let s=!1;t.size===0?s=!0:s=i.some(e=>t.has(e)),e.classList.toggle("hidden",!s),s&&(n=!0)}),a==="writings-list"){const e=c.querySelectorAll('section[aria-labelledby^="year-"]');e.forEach(e=>{const t=e.querySelectorAll(r),n=e.querySelectorAll(r+":not(.hidden)"),s=n.length===0&&t.length>0;e.classList.toggle("hidden",s)})}d()}l.addEventListener("click",e=>{const a=e.target;if(a.classList.contains("SF_TAXONOMYFILTER_BUTTON")){const e=a.dataset.subject;if(!e)return;a.classList.toggle("active"),t.has(e)?t.delete(e):t.add(e),h()}else if(a===o)o.classList.contains("enabled")&&(t.clear(),s.querySelectorAll(".SF_TAXONOMYFILTER_BUTTON.active").forEach(e=>e.classList.remove("active")),h());else if(a===n){if(!n)return;i=!i,s.classList.toggle("show-all-filters",i),u()}}),u(),d()}document.querySelectorAll("[data-target-list]").forEach(t=>{t.matches("[data-item-selector]")&&e(t)})})
;
document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".SF_POSTCONTENT pre").forEach(e=>{const n=e.querySelector("code");if(!n)return;const a=n.getAttribute("data-lang")||"",s=document.createElement("div");s.className="SF_CODE_HEADER";const o=document.createElement("span");o.className="SF_CODE_LANG";let i=a.toLowerCase();i==="CPP"&&(i="C++"),o.textContent=i;const t=document.createElement("button");t.className="SF_CODE_COPY_BUTTON",t.textContent="COPY",t.setAttribute("aria-label","Copy code to clipboard"),t.addEventListener("click",()=>{const e=Array.from(n.querySelectorAll(".line")),s=e.map(e=>{const t=e.querySelector(".cl")||e.querySelector("span:not(.ln)");return t?t.textContent.trimEnd():e.textContent.trimEnd()}).join(`
`);navigator.clipboard.writeText(s).then(()=>{t.classList.add("copied"),t.textContent="✔",t.setAttribute("aria-label","Copied!"),setTimeout(()=>{t.classList.remove("copied"),t.textContent="COPY",t.setAttribute("aria-label","Copy code to clipboard"),t.blur()},1500)}).catch(e=>{t.textContent="Error",setTimeout(()=>{t.textContent="COPY",t.setAttribute("aria-label","Copy code to clipboard")},1500)})}),s.appendChild(o),s.appendChild(t),e.insertBefore(s,n)})})
;
function setupTableOfContentsInteraction(){const e=document.querySelector(".SF_TOC_CONTAINER"),u=document.querySelector(".SF_POSTCONTENT");if(!e||!u){e&&(e.style.display="none");return}const r=e.querySelector(".SF"),i=e.querySelector(".SF_TOC_STRIP"),s=e.querySelector(".SF_TOC_CURRENT_SECTION");if(!r||!i||!s){e.style.display="none";return}const n=Array.from(u.querySelectorAll("h2, h3, h4"));if(n.length===0){e.style.display="none";return}const a=new Map;r.innerHTML="";let d=document.createElement("ul");r.appendChild(d);let t=[d];n.forEach(e=>{e.id||(e.id=e.textContent.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,""));const s=parseInt(e.tagName.substring(1),10);for(;s<t.length+1;)t.pop();for(;s>t.length+1;)if(t[t.length-1].lastElementChild){const e=document.createElement("ul");t[t.length-1].lastElementChild.appendChild(e),t.push(e)}else return;let i=t[t.length-1];const o=document.createElement("li"),n=document.createElement("a");n.textContent=e.textContent,n.href=`#${e.id}`,o.appendChild(n),i.appendChild(o),a.set(e.id,n)});function l(){e.classList.remove("is-expanded"),e.classList.add("is-collapsed"),i.setAttribute("aria-expanded","false")}function m(){e.classList.add("is-expanded"),e.classList.remove("is-collapsed"),i.setAttribute("aria-expanded","true")}i.addEventListener("mousedown",e=>{m()}),document.addEventListener("mouseup",t=>{if(e.classList.contains("is-expanded")){const n=r.contains(t.target),e=n?t.target.closest("a"):null;e?(e.click(),l()):l()}}),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("is-expanded")&&l()}),i.setAttribute("aria-expanded","false"),e.classList.add("is-collapsed"),e.classList.remove("is-expanded");let o=null;const h=new Map,f=e=>{e.forEach(e=>{h.set(e.target.id,e)});let t=null;const i=Array.from(h.values()).filter(e=>e.isIntersecting).sort((e,t)=>e.target.offsetTop-t.target.offsetTop);if(i.length>0)t=i[0].target.id;else{let e=null,s=-(1/0);n.forEach(t=>{const n=t.getBoundingClientRect();n.top<window.innerHeight*.25&&n.top>s&&(s=n.top,e=t.id)}),t=e||(n.length>0?n[0].id:null)}if(t&&t!==o){const e=document.getElementById(t);e&&(s.innerHTML=e.innerHTML,typeof renderMathInElement=="function"&&renderMathInElement(s,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],throwOnError:!1})),o&&a.get(o)?.classList.remove("toc-active"),a.get(t)?.classList.add("toc-active"),o=t}else if(!t&&o){a.get(o)?.classList.remove("toc-active"),o=null;const e=n.length>0?n[0]:null;e?(s.innerHTML=e.innerHTML,typeof renderMathInElement=="function"&&renderMathInElement(s,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],throwOnError:!1})):s.textContent=""}},p=new IntersectionObserver(f,{rootMargin:"0px 0px -75% 0px",threshold:0});n.forEach(e=>p.observe(e));const c=n.length>0?n[0]:null;c?(s.innerHTML=c.innerHTML,typeof renderMathInElement=="function"&&renderMathInElement(s,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],throwOnError:!1}),a.get(c.id)?.classList.add("toc-active"),o=c.id):s.textContent=""}document.addEventListener("DOMContentLoaded",setupTableOfContentsInteraction)
;
function setupScrollToTop(){const e=document.querySelector(".SF_SCROLLTOP_BTN");if(!e)return;const n=window.innerHeight*.8;function s(e,t){let s,n;return function(...o){const i=this;n?(clearTimeout(s),s=setTimeout(function(){Date.now()-n>=t&&(e.apply(i,o),n=Date.now())},t-(Date.now()-n))):(e.apply(i,o),n=Date.now())}}const t=()=>{window.scrollY>n?e.classList.add("show"):e.classList.remove("show")},o=s(t,200);window.addEventListener("scroll",o),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),t()}document.addEventListener("DOMContentLoaded",setupScrollToTop)